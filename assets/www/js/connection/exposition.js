// Generated by CoffeeScript 1.3.3
var Exposition;

Exposition = (function() {

  function Exposition(string, callbacks) {
    this.callbacks = callbacks;
    if (string.length !== 8) {
      this.expositions = "00000000".split("");
    } else {
      this.expositions = string.split("");
    }
  }

  Exposition.prototype.toggle = function(expo) {
    this.change(this.indexFromExpo(expo));
    return this.callCallback(expo);
  };

  Exposition.prototype.indexFromExpo = function(expo) {
    switch (expo) {
      case "NV":
        return 0;
      case "N":
        return 1;
      case "NØ":
        return 2;
      case "Ø":
        return 3;
      case "SØ":
        return 4;
      case "S":
        return 5;
      case "SV":
        return 6;
      case "V":
        return 7;
    }
  };

  Exposition.prototype.change = function(index) {
    if (this.expositions[index] === "1") {
      return this.expositions[index] = "0";
    } else {
      return this.expositions[index] = "1";
    }
  };

  Exposition.prototype.callCallback = function(expo) {
    if (this.callbacks[expo]) {
      return this.callbacks[expo](this.expositions[this.indexFromExpo(expo)] === "1");
    }
  };

  Exposition.prototype.refresh = function() {
    var _this = this;
    return jQuery.each(["NV", "N", "NØ", "Ø", "SØ", "S", "SV", "V"], function(i, expo) {
      return _this.callCallback(expo);
    });
  };

  Exposition.prototype.toString = function() {
    return this.expositions.join("");
  };

  return Exposition;

})();
